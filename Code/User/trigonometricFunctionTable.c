#include "trigonometricFunctionTable.h"

static const float sinValueTable[90] = {
    0.0f, 0.0174524064372835f, 0.034899496702501f, 0.0523359562429438f, 0.0697564737441253f,
    0.0871557427476582f, 0.104528463267653f, 0.121869343405147f, 0.139173100960065f, 0.156434465040231f,
    0.17364817766693f, 0.190808995376545f, 0.207911690817759f, 0.224951054343865f, 0.241921895599668f,
    0.258819045102521f, 0.275637355816999f, 0.292371704722737f, 0.309016994374947f, 0.325568154457157f,
    0.342020143325669f, 0.3583679495453f, 0.374606593415912f, 0.390731128489274f, 0.4067366430758f,
    0.422618261740699f, 0.438371146789077f, 0.453990499739547f, 0.469471562785891f, 0.484809620246337f,
    0.5f, 0.515038074910054f, 0.529919264233205f, 0.544639035015027f, 0.559192903470747f,
    0.573576436351046f, 0.587785252292473f, 0.601815023152048f, 0.615661475325658f, 0.629320391049837f,
    0.642787609686539f, 0.656059028990507f, 0.669130606358858f, 0.681998360062498f, 0.694658370458997f,
    0.707106781186547f, 0.719339800338651f, 0.73135370161917f, 0.743144825477394f, 0.754709580222772f,
    0.766044443118978f, 0.777145961456971f, 0.788010753606722f, 0.798635510047293f, 0.809016994374947f,
    0.819152044288992f, 0.829037572555042f, 0.838670567945424f, 0.848048096156426f, 0.857167300702112f,
    0.866025403784439f, 0.874619707139396f, 0.882947592858927f, 0.891006524188368f, 0.898794046299167f,
    0.90630778703665f, 0.913545457642601f, 0.92050485345244f, 0.927183854566787f, 0.933580426497202f,
    0.939692620785908f, 0.945518575599317f, 0.951056516295154f, 0.956304755963035f, 0.961261695938319f,
    0.965925826289068f, 0.970295726275996f, 0.974370064785235f, 0.978147600733806f, 0.981627183447664f,
    0.984807753012208f, 0.987688340595138f, 0.99026806874157f, 0.992546151641322f, 0.994521895368273f,
    0.996194698091746f, 0.997564050259824f, 0.998629534754574f, 0.999390827019096f, 0.999847695156391f};

static const float tanValueTable[90] = {
    0.0f, 0.0174550649282176f, 0.0349207694917477f, 0.0524077792830412f, 0.0699268119435104f,
    0.087488663525924f, 0.105104235265676f, 0.122784560902905f, 0.140540834702391f, 0.158384440324536f,
    0.176326980708465f, 0.194380309137718f, 0.212556561670022f, 0.230868191125563f, 0.249328002843181f,
    0.267949192431123f, 0.286745385758808f, 0.30573068145866f, 0.324919696232906f, 0.344327613289665f,
    0.363970234266202f, 0.383864035035416f, 0.404026225835157f, 0.424474816209605f, 0.445228685308536f,
    0.466307658154999f, 0.487732588565861f, 0.509525449494429f, 0.531709431661479f, 0.554309051452769f,
    0.577350269189626f, 0.60086061902756f, 0.624869351909327f, 0.649407593197511f, 0.674508516842427f,
    0.70020753820971f, 0.726542528005361f, 0.753554050102794f, 0.781285626506717f, 0.809784033195007f,
    0.83909963117728f, 0.869286737816227f, 0.90040404429784f, 0.932515086137662f, 0.965688774807074f,
    1.0f, 1.03553031379057f, 1.07236871002468f, 1.11061251482919f, 1.15036840722101f,
    1.19175359259421f, 1.23489715653505f, 1.27994163219308f, 1.32704482162041f, 1.37638192047117f,
    1.42814800674211f, 1.48256096851274f, 1.53986496381458f, 1.60033452904105f, 1.66427948235052f,
    1.73205080756888f, 1.80404775527142f, 1.88072646534633f, 1.96261050550515f, 2.0503038415793f,
    2.14450692050956f, 2.24603677390422f, 2.35585236582375f, 2.4750868534163f, 2.6050890646938f,
    2.74747741945462f, 2.90421087767582f, 3.07768353717525f, 3.27085261848414f, 3.48741444384091f,
    3.73205080756888f, 4.01078093353585f, 4.33147587428416f, 4.70463010947845f, 5.14455401597031f,
    5.67128181961771f, 6.31375151467504f, 7.11536972238421f, 8.14434642797459f, 9.51436445422259f,
    11.4300523027613f, 14.3006662567119f, 19.0811366877282f, 28.6362532829155f, 57.2899616307591f};
/**
 * @brief 查表计算正弦值
 *
 * @param deg 角度
 * @return float
 */
float sinTable(int deg) {
    //转换到0到359度
    while (deg >= 360)
        deg -= 360;
    while (deg < 0)
        deg += 360;
    if(deg<90)
        return sinValueTable[deg];
    else if (deg<180)
        return sinValueTable[180 - deg];
    else if(deg<270)
        return -sinValueTable[deg - 180];
    else
        return -sinValueTable[360 - deg];
}

/**
 * @brief 查表计算余弦值
 *
 * @param deg
 * @return float
 */
float cosTable(int deg) {
    deg += 90;//转换到正弦
    return sinTable(deg);
}

/**
 * @brief 查表计算正切值
 *
 * @param deg
 * @return float
 */
float tanTable(int deg) {
    //转换到0到179度
    while (deg >= 180) {
        deg -= 180;
    }
    while (deg < 0) {
        deg += 180;
    }
    if(deg<90)
        return tanValueTable[deg];
    else
        return -tanValueTable[180 - deg];
}
